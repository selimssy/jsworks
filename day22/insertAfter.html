<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/insertAfter.css">
    <script src="./js/jquery-3.6.0.js"></script>
    <script>

        $(document).ready(function(){
           
            let totalNum = $(".vis > div").length;      // 이렇게 갯수 구할 수 있다!!★  // 4
            let currentNum = 1;   // 전역변수
            $(".page_n > span:first").text(currentNum)   // 1  초기화 개념이라 생각하자
            $(".page_n > span:last").text(totalNum)      // 4  얘도 초기화개념!
            $(".next_b").click(function(){
                currentNum +=1    // 여기까지는 내부적으로 올라만 가고 브라우저에 나타나지는 않는다. text()함수로 다시 보여줘야...
                if(currentNum > totalNum){
                    currentNum = 1;
                }
                $(".page_n > span:first").text(currentNum)
                $(".vis div:first").insertAfter(".vis div:last")  // 첫 번째 있던걸 맨뒤로 보냄
            })


            $(".prev_b").click(function(){
                currentNum -=1    // 여기까지는 내부적으로 올라만 가고 브라우저에 나타나지는 않는다. text()함수로 다시 보여줘야...
                if(currentNum == 0){   
                    currentNum = totalNum;
                }
                $(".page_n > span:first").text(currentNum)
                $(".vis div:last").insertBefore(".vis div:first")  // 마지막에 있던애를 첫번째로
            })


        })

    </script>
</head>
<body>
    
    <div id="wrap">
        <div class="page">
            <span class="page_n">
                <span></span> / <span></span>
            </span>
            <button class="prev_b">&lt; 이전</button>
            <button class="next_b">&gt; 다음</button>
        </div>

        <div class="vis">
            <div>
                <a href="#"><img src="./img/1.jpg" alt="html"></a>
            </div>
            <div>
                <a href="#"><img src="./img/2.jpg" alt="css"></a>
            </div>
            <div>
                <a href="#"><img src="./img/3.jpg" alt="javascript"></a>
            </div>
            <div>
                <a href="#"><img src="./img/4.jpg" alt="jquery"></a>
            </div>
        </div>
    </div>

</body>
</html>